# 红意 UI 优化设计规范（Design Spec v1.0）

## 一、设计语境

### 产品灵魂
**开盘前的一炷清香** — 不是工具，不是社交，是一个人在喧嚣之前，为自己点一柱无声的愿。

### 用户此刻的状态
早晨 9:15 前，股民打开手机。可能焦虑、可能期待、可能惶恐。他们不需要信息轰炸，需要的是**一个安静的角落，一个简短的仪式，一个"有人在替我祝愿"的感觉**。操作完后，他们带着那一点心安去面对盘面。

### 视觉调性关键词
**庙堂的静谧** · **朱印的庄重** · **檀香的温度** · **玉石的内敛** · **金箔的微光**

### 当前实现盘点
- 背景：暖白渐变 + 极淡网格 → 干净但**缺乏氛围深度**，像一张空白纸
- 按钮态：深红渐变按钮，玉石质感 → 按钮本身不错，但**孤悬于空旷页面中央**，缺少环境烘托
- 降临态：凝现+漂浮动效 → 动画节奏好，但**符图片周围没有任何氛围渲染**，像贴图悬浮在空中
- 成功态：两行纯文字 → **过于简陋**，"红意已入封"这样的仪式完成时刻没有任何视觉庆典感
- 信封卡片：功能正确 → 但**缺乏材质感**，像通用列表而非"珍藏的信封"
- Header：纯文字 → 功能完备但**存在感过弱**，"红意"二字没有品牌辨识度

### 技术约束
- React Native + Expo SDK 54（非 Web CSS）
- react-native-reanimated（动画引擎，已在用）
- expo-linear-gradient（渐变，已在用）
- expo-image（图片，已在用）
- 所有样式用 RN StyleSheet，间距单位 dp
- 阴影用 shadowOffset/shadowOpacity（iOS）+ elevation（Android）
- 不可用 box-shadow、filter、backdrop-filter 等 Web 属性

---

## 二、色彩系统优化

### 现有色彩（保留）

| Token | 值 | 用途 | 状态 |
|-------|------|------|------|
| `primary` | `#6B2D2D` | 按钮底色、标题 | 保留 |
| `primaryLight` | `#8B3A3A` | 按钮渐变亮部 | 保留 |
| `accent` | `#A67C5B` | 哑光铜点缀 | 保留 |
| `text` | `#2D2424` | 主文字深棕黑 | 保留 |
| `textMuted` | `#9E918A` | 辅助温灰文字 | 保留 |
| `textOnButton` | `#F2EDE9` | 按钮文字暖白 | 保留 |
| `blessing` | `#6B2D2D` | 祝福句文字 | 保留 |

### 新增色彩

| Token | 值 | 用途 |
|-------|------|------|
| `glow` | `rgba(168,98,64,0.06)` | 符图周围的暖光晕底色 |
| `glowInner` | `rgba(139,58,58,0.08)` | 符图内层红色光晕 |
| `incense` | `rgba(166,124,91,0.12)` | 檀烟/香雾粒子色 |
| `goldLeaf` | `#C9A96E` | 金箔装饰点缀（比哑光铜更亮一档） |
| `goldLeafMuted` | `rgba(201,169,110,0.15)` | 金箔纹理淡化版 |
| `sealRed` | `#8B2500` | 朱印深红（成功态印章用） |
| `paperFiber` | `rgba(180,170,160,0.04)` | 宣纸纤维纹理色（比网格更淡） |
| `cardBorder` | `rgba(139,58,58,0.08)` | 信封卡片极淡红色描边 |
| `successBg` | `rgba(107,45,45,0.03)` | 成功态中心区域微红底色 |

---

## 三、字体排版体系

### 现有问题
当前全局使用系统苹方，字重统一 400（regular），层级感靠字号区分，但字号跳跃不够大胆。

### 优化方案

| 层级 | 用途 | 字号 | 字重 | 字间距 | 颜色 |
|------|------|------|------|--------|------|
| **品牌标题** | Header "红意" | 22dp | 300 (Light) | 6dp | `#2D2424` |
| **仪式主文** | "红意已入封" | 24dp | 300 (Light) | 4dp | `#6B2D2D` |
| **祝福句** | 降临态/回看态 | 17dp | 400 (Regular) | 2dp | `#6B2D2D` |
| **操作按钮** | "请红意" | 18dp | 400 (Regular) | 4dp | `#F2EDE9` |
| **文字按钮** | "收下祝福""红意信封" | 15dp | 400 (Regular) | 2dp | `#A67C5B` |
| **辅助信息** | 日期、副文 | 12dp | 400 (Regular) | 0dp | `#9E918A` |
| **卡片日期** | 信封列表 MM/dd | 13dp | 300 (Light) | 1dp | `#9E918A` |

**核心变化**：
- "红意" 品牌名和仪式主文改用 **fontWeight 300（Light）**——中文 Light 字重更显清雅端庄，有书法碑帖的骨感。与 400 的正文产生明确的气质区分
- 品牌名字号从 18 → 22，字间距从无 → 6dp，拉开呼吸感
- "红意已入封" 从 22 → 24，配合 Light 字重，视觉更舒展

---

## 四、逐组件设计规范

### 4.1 全局背景（index.tsx）

**当前状态**：暖白渐变 `#F7F4F0 → #EDE8E3` + 极淡网格线 40px 间距。干净但平淡。

#### 优化方向
保留宣纸底色，**增加一层极淡的径向光晕**，让页面中心有微弱的暖光聚焦感——像一盏灯笼在宣纸后面隐约透光。同时优化网格为更接近宣纸纤维的随机感。

#### 视觉规范
- 底层渐变：保持 `#F7F4F0 → #EDE8E3`（不变）
- 网格线：保持 `rgba(180,170,160,0.06)`，但间距从 40px 改为 **48px**（更宽松的呼吸感）
- **新增 — 中心光晕层**：在页面中央偏上 40% 的位置，放置一个径向渐变圆形（用 `expo-linear-gradient` 的对角渐变模拟）
  - 色值：`rgba(168,98,64,0.04)` → `transparent`
  - 尺寸：宽 320dp × 高 320dp
  - 圆角：160（完全圆形）
  - 位置：absolute，水平居中，距顶部 30%
  - `pointerEvents="none"`
  - 效果：极微弱的暖光斑，不刻意但能感知"中心有光"

---

### 4.2 Header 组件

**当前状态**：左侧"红意"18px + 日期 12px，右侧文字按钮。纯文字，功能化。

#### 优化方向
让"红意"二字成为有品牌辨识度的存在。不加 logo 图标，而是通过**字体排版的极致打磨**来建立品牌感。

#### 视觉规范
- "红意"标题：
  - 字号：22dp（原 18dp）
  - 字重：300（Light）（原 500 Medium）
  - 字间距：6dp（原无）
  - 颜色：`#2D2424`（不变）
  - 效果：两字之间拉开距离，轻盈而非厚重，有碑拓的疏朗感
- 日期小字：
  - 字号：11dp（原 12dp，微缩，让标题更突出）
  - marginTop：4dp（原 2dp，与标题留出更多呼吸）
  - 颜色：`#9E918A`（不变）
- 右侧按钮文字：
  - 字号：14dp（不变）
  - 颜色：`#A67C5B`（不变）
- Header 整体：
  - paddingBottom：12dp（原 8dp，底部多留白）
  - **新增 — 底部分割线**：`rgba(180,170,160,0.08)` 色值，高度 `StyleSheet.hairlineWidth`，水平边距 20dp。极淡到几乎看不见，但在视觉上将 Header 与内容区做出轻柔的界定

---

### 4.3 ButtonState（按钮态）

**当前状态**：深红渐变圆角矩形，居中悬浮，有半透明高光和柔和阴影。按钮本身不错。

#### 优化方向
按钮形态保持，但在按钮**下方**添加一个微弱的装饰元素——一条极细的水平金线或一小段哑光铜色的短横线——暗示"此处是神龛，按钮是供品"。让按钮不再孤悬于空白之中。

#### 视觉规范
- 按钮本体：**全部保持不变**（渐变色、圆角、高光、描边、阴影、文字）
- **新增 — 按钮下方装饰线**：
  - 位置：按钮正下方，marginTop 28dp
  - 形态：水平短线，宽度 40dp，高度 1dp（`StyleSheet.hairlineWidth` 的 2 倍）
  - 颜色：`rgba(201,169,110,0.25)`（金箔色极淡化）
  - 圆角：0.5dp
  - 效果：像一小截金箔碎片落在宣纸上，暗示仪式感的"基座"
- **新增 — 按钮上方小字**（可选）：
  - 内容：当日农历日期或简单的"轻触祈福"提示
  - 字号：11dp
  - 颜色：`rgba(158,145,138,0.5)`（比 textMuted 还淡 50%）
  - marginBottom：20dp
  - 效果：极淡提示文字，增加仪式引导感，不抢视线

---

### 4.4 DescendState（降临态）

**当前状态**：符图 220×220 凝现 + 漂浮 → 祝福句淡入 → "收下祝福"按钮。动画节奏好，但符图像"悬浮在空白中"，缺乏氛围。

#### 优化方向
在符图背后添加一层**极淡的光晕**，让符看起来像是"自身在发光"——不是明亮的光效，而是温暖的气场。同时在祝福句左右两侧各加一小截装饰线，形成"诏书"的仪式框架感。

#### 视觉规范

**符图光晕（新增）：**
- 在 `FuImage` 组件的 `Animated.View` 外层再包一层 View
- 放一个 `View` 做光晕底：
  - 尺寸：280dp × 280dp（比符图 220×220 大一圈）
  - 圆角：140dp（完全圆形）
  - 背景色：`rgba(139,58,58,0.05)`（主色的极淡版本）
  - 位置：absolute 居中对齐符图
  - `pointerEvents="none"`
- 光晕也参与凝现动画：与符图同步 opacity 0→1，但时长稍慢（1500ms），产生"光先散，形后聚"的感觉

**祝福句装饰线（新增）：**
- 祝福句左右各一条短横线
- 布局：flexDirection row，祝福句居中，两侧各放一条线
- 线规格：宽 20dp，高度 `StyleSheet.hairlineWidth`，颜色 `rgba(201,169,110,0.2)`（金箔淡化）
- 线与祝福句间距：marginHorizontal 12dp
- 线垂直居中对齐文字
- 线参与祝福句同步淡入动画（opacity 0→1, 800ms, delay 2000ms）

**"收下祝福"按钮优化：**
- 当前：纯文字按钮 `#A67C5B`
- 优化：在文字下方加一条极细下划线
  - 颜色：`rgba(166,124,91,0.3)`
  - 宽度：与文字等宽（约 60dp）
  - 距文字底部：4dp
  - 效果：让"收下祝福"从普通文字变为有明确可点击暗示的行动召唤，同时保持内敛

---

### 4.5 SuccessState（成功态）

**当前状态**：两行文字——"红意已入封"（深红 22px）+"今日已祈福"（灰 14px）。**是当前最需要优化的页面**。祈福仪式完成的时刻应该有"尘埃落定"的宁静庄重感，而非只有两行文字。

#### 优化方向
在文字上方添加一个**朱印/印章**样式的装饰图形——用纯 RN View 绘制，不依赖图片。用细红色边框画一个方形"印章"轮廓，内部放一个简化的符号。让这个页面有"已盖章确认"的仪式完成感。

#### 视觉规范

**朱印装饰（新增）：**
- 位置：文字区域上方，marginBottom 32dp
- 形态：正方形轮廓，64dp × 64dp
- 边框：2dp 宽，颜色 `rgba(139,45,0,0.18)`（朱印红，半透明模拟印泥晕染）
- 圆角：4dp（印章的微圆角，不完全方正）
- 旋转：`transform: [{ rotate: '-3deg' }]`（微微歪斜，模拟手工盖印的随意感）
- 内部：居中放一个"福"字或简单的"已"字
  - 字号：28dp
  - 字重：300（Light）
  - 颜色：`rgba(139,45,0,0.22)`（与边框同色系）
  - 效果：像一个半透明的朱砂印迹，不抢眼但有仪式的庄重感
- 动画（animated=true 时）：
  - 在标题淡入之前 200ms，印章以 `opacity 0→1 + scale 0.8→1` 出现，时长 500ms，easing easeOut
  - 配合一次轻微震动 `Haptics.impactAsync(Light)`（盖章的触感）

**文字区域优化：**
- "红意已入封"：
  - 字号：24dp（原 22dp）
  - 字重：300（Light）（原 400）
  - 字间距：4dp
- "今日已祈福"：
  - 字号：13dp（原 14dp，微缩）
  - marginTop：16dp（原 12dp）
- **新增 — 底部时间戳**：
  - 内容：当前时间 `HH:MM`（如"08:47"）
  - 字号：11dp
  - 颜色：`rgba(158,145,138,0.4)`（极淡）
  - marginTop：40dp
  - 效果：记录下祈福完成的时刻，像一个时间胶囊

---

### 4.6 ViewingState（回看态）

**当前状态**：静态符图 + 祝福句 + 底部日期。功能正确，布局合理。

#### 优化方向
微调即可。加入与降临态相同的光晕（但静态，无动画），让回看时符图也有"气场"而非贴图感。

#### 视觉规范
- **新增 — 符图光晕**：与降临态相同规格（280×280, 圆形, `rgba(139,58,58,0.05)`），但 opacity 直接为 1，无动画
- 祝福句左右装饰线：与降临态相同规格，直接显示，无动画
- 底部日期：保持 `YYYY/M/D` 格式不变
- 其余保持不变

---

### 4.7 EnvelopeCard（信封卡片）

**当前状态**：水平渐变卡片，左日期右祝福句，渐隐遮罩。功能正确但缺乏"信封"的材质感。

#### 优化方向
增加极细描边和左侧一个微小的红色装饰元素，让每张卡片更像一封真正的"红意信封"。

#### 视觉规范
- 卡片背景渐变：保持不变
- **新增 — 极淡描边**：
  - borderWidth：`StyleSheet.hairlineWidth`
  - borderColor：`rgba(139,58,58,0.06)`（极淡红描边，几乎不可见但增加边界感）
- **新增 — 左侧红点装饰**：
  - 在日期左侧（或上方）放一个小红点
  - 尺寸：4dp × 4dp
  - 圆角：2dp（完美圆形）
  - 背景色：`rgba(139,58,58,0.25)`（朱砂淡红）
  - marginRight：8dp（与日期的间距）
  - 效果：像信封上的火漆封印痕迹，微小但有仪式象征
- 日期文字：
  - 字重：300（Light）（原 400），更清雅
  - 字号：13dp（原 14dp）
- 卡片圆角：保持 12dp 不变
- 阴影：保持不变

---

### 4.8 红意信封页面（envelope.tsx）

**当前状态**：模态页，暖白背景，Header + FlatList。功能完备。

#### 优化方向
页面顶部"红意信封"标题区增加一点仪式感。

#### 视觉规范
- "红意信封"标题：
  - 字号：20dp（原 18dp）
  - 字重：300（Light）（原 500 Medium）
  - 字间距：3dp
- **新增 — 标题下方装饰**：
  - 在标题和列表之间添加一条居中的短横线
  - 宽度：32dp，高度 `StyleSheet.hairlineWidth`
  - 颜色：`rgba(201,169,110,0.25)`（金箔淡化）
  - marginTop：12dp, marginBottom：4dp
  - 效果：与按钮下方装饰线同一视觉语言，建立一致的"金线分割"设计系统
- 空态文字"尚无红意信封"：保持不变

---

## 五、动效优化

### 现有动效（全部保留，不修改）

| 动画 | 参数 | 状态 |
|------|------|------|
| 符凝现 | opacity 0→1 + scale 0.92→1, 1200ms, easeOut | 保留 |
| 漂浮循环 | ±3px, 4.5s 周期 | 保留 |
| 祝福句淡入 | opacity + translateY 8→0, 800ms, delay 2000ms | 保留 |
| 按钮显现 | opacity 0→1, 600ms, delay 2400ms | 保留 |
| 收纳化散 | opacity 1→0 + scale 1→0.85, 1000ms, easeIn | 保留 |
| 成功态淡入 | 标题 600ms → +300ms 副文 | 保留 |

### 新增动效

| 动画 | 组件 | 参数 |
|------|------|------|
| 光晕凝现 | DescendState 符图光晕 | opacity 0→1, 1500ms, easeOut（比符图慢 300ms） |
| 装饰线淡入 | DescendState 祝福句两侧 | 与祝福句同步，opacity 0→1, 800ms, delay 2000ms |
| 朱印出现 | SuccessState 印章 | opacity 0→1 + scale 0.8→1, 500ms, easeOut, delay 0（在标题之前） |
| 朱印震动 | SuccessState | Haptics.impactAsync(Light)，与印章动画同步 |
| 光晕化散 | DescendState 收纳时 | 与容器同步 opacity 1→0, 1000ms（已被容器化散动画覆盖，无需额外代码） |

---

## 六、间距节奏

### 基础单位：4dp

| 档位 | 值 | 用途 |
|------|------|------|
| xs | 4dp | 文字行间微调、装饰线与文字间距 |
| sm | 8dp | 元素间紧凑间距 |
| md | 12dp | 列表项间距、Header 底部留白 |
| lg | 16dp | 段落间距 |
| xl | 20dp | 卡片水平边距、Header 水平边距 |
| 2xl | 28dp | 装饰线与按钮间距 |
| 3xl | 32dp | 符图与祝福句间距、朱印与标题间距 |
| 4xl | 40dp | 底部安全距离、时间戳与副文间距 |
| 5xl | 48dp | 祝福句与"收下祝福"间距 |

---

## 七、设计系统总览

### 装饰语言一致性

整个应用使用统一的装饰元素语言：

| 装饰元素 | 出现位置 | 颜色 | 规格 |
|----------|----------|------|------|
| **金线** | 按钮下方、信封标题下方 | `rgba(201,169,110,0.25)` | 宽 32-40dp × hairlineWidth×2 |
| **光晕** | 降临态符图、回看态符图、首页中心 | `rgba(139,58,58,0.05)` | 280dp 圆形 |
| **红点** | 信封卡片左侧 | `rgba(139,58,58,0.25)` | 4dp 圆形 |
| **朱印** | 成功态印章 | `rgba(139,45,0,0.18-0.22)` | 64dp 方形轮廓 |

所有装饰元素遵循同一原则：**极淡、极微、感知而非注视**。用户不会刻意注意到它们，但如果去掉它们，会感觉"少了什么"。

### 不做的事

- 不加渐变色背景（已有宣纸底色，足够）
- 不加粒子动效（与静谧气质冲突）
- 不加边框发光/霓虹效果（与东方内敛美学冲突）
- 不加图标（整个 APP 零图标，纯文字+装饰线，保持"书卷感"）
- 不改变任何交互流程、状态机逻辑、路由结构
